{
  # 全局设置
  email your-email@example.com  # 用于 Let's Encrypt 账户
}

# 替换 example.com 为您的实际域名
example.com {
  encode gzip
  root * /usr/share/caddy
  file_server
  try_files {path} /index.html

  # 自动 HTTPS
  tls {
    protocols tls1.2 tls1.3
  }

  # 安全头
  header {
    Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    X-XSS-Protection "1; mode=block"
    X-Frame-Options "DENY"
    X-Content-Type-Options "nosniff"
    Referrer-Policy "strict-origin-when-cross-origin"
  }
}

# HTTP 重定向到 HTTPS
http://example.com {
  redir https://{host}{uri} permanent
}